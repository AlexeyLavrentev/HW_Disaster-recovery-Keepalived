## Задание 1
Дана схема для Cisco Packet Tracer, рассматриваемая в лекции.
На данной схеме уже настроено отслеживание интерфейсов маршрутизаторов Gi0/1 (для нулевой группы)
Необходимо аналогично настроить отслеживание состояния интерфейсов Gi0/0 (для первой группы).
Для проверки корректности настройки, разорвите один из кабелей между одним из маршрутизаторов и Switch0 и запустите ping между PC0 и Server0.
На проверку отправьте получившуюся схему в формате pkt и скриншот, где виден процесс настройки маршрутизатора.

### Выполнение:
Для HSRP group 1 на интерфейсах Gi0/1 обоих маршрутизаторов нужно включил трекинг интерфейса Gi0/0

<img width="632" height="703" alt="Screenshot_3" src="https://github.com/user-attachments/assets/eb9cd324-ab90-495d-a05c-db66e4a74b01" />

<img width="677" height="705" alt="Screenshot_4" src="https://github.com/user-attachments/assets/892e0939-0c5d-4208-9209-639cabd89c51" />

Запустил пинг между рабочими станциями и отключил соединение между Router2 и Switch1, при переподключении потерялось 2 пакета:

<img width="963" height="713" alt="Screenshot_5" src="https://github.com/user-attachments/assets/9400a9f1-e93d-4e89-90e5-276491f21243" />

Файл .pkt прилагаю [тут](hsrp_Задание1_А.С.Лаврентьев.pkt)

## Задание 2
Запустите две виртуальные машины Linux, установите и настройте сервис Keepalived как в лекции, используя пример конфигурационного файла.
Настройте любой веб-сервер (например, nginx или simple python server) на двух виртуальных машинах
Напишите Bash-скрипт, который будет проверять доступность порта данного веб-сервера и существование файла index.html в root-директории данного веб-сервера.
Настройте Keepalived так, чтобы он запускал данный скрипт каждые 3 секунды и переносил виртуальный IP на другой сервер, если bash-скрипт завершался с кодом, отличным от нуля (то есть порт веб-сервера был недоступен или отсутствовал index.html). Используйте для этого секцию vrrp_script
На проверку отправьте получившейся bash-скрипт и конфигурационный файл keepalived, а также скриншот с демонстрацией переезда плавающего ip на другой сервер в случае недоступности порта или файла index.html
Дополнительные задания со звёздочкой*
Эти задания дополнительные. Их можно не выполнять. На зачёт это не повлияет. Вы можете их выполнить, если хотите глубже разобраться в материале.

### Выполнение:

Применение конфига и статус интерфейса до аварии
<img width="817" height="499" alt="image" src="https://github.com/user-attachments/assets/ab31c350-14f0-49ca-ab5c-6e8dbfc2d0b7" />
<img width="309" height="147" alt="image" src="https://github.com/user-attachments/assets/00fb0055-3e6d-479c-a895-ab8ab3911eab" />
Далее был остановлен nginx на server1
<img width="799" height="459" alt="image" src="https://github.com/user-attachments/assets/5b539f64-ed11-4f04-80bf-3dda26f98bd8" />
<img width="364" height="187" alt="image" src="https://github.com/user-attachments/assets/a7902561-545b-461f-9bb6-0f2599667e95" />




## Задание 3*
Изучите дополнительно возможность Keepalived, которая называется vrrp_track_file
Напишите bash-скрипт, который будет менять приоритет внутри файла в зависимости от нагрузки на виртуальную машину (можно разместить данный скрипт в cron и запускать каждую минуту). Рассчитывать приоритет можно, например, на основании Load average.
Настройте Keepalived на отслеживание данного файла.
Нагрузите одну из виртуальных машин, которая находится в состоянии MASTER и имеет активный виртуальный IP и проверьте, чтобы через некоторое время она перешла в состояние SLAVE из-за высокой нагрузки и виртуальный IP переехал на другой, менее нагруженный сервер.
Попробуйте выполнить настройку keepalived на третьем сервере и скорректировать при необходимости формулу так, чтобы плавающий ip адрес всегда был прикреплен к серверу, имеющему наименьшую нагрузку.
На проверку отправьте получившийся bash-скрипт и конфигурационный файл keepalived, а также скриншоты логов keepalived с серверов при разных нагрузках
